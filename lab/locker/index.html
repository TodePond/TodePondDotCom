<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<script
  data-goatcounter="https://todepond.goatcounter.com/count"
  async
  src="//gc.zgo.at/count.js"></script>
<title>Tadi lab</title>
<link rel="shortcut icon" href="/favicon.png" />
<meta property="og:image" content="https://todepond.com/lab/og.png" />
<meta property="og:title" content="Tadi lab" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:title" content="Tadi lab" />
<meta name="twitter:description" content="" />
<meta name="twitter:image" content="https://todepond.com/lab/og.png" />

<link rel="stylesheet" href="/style.css" />

<h1>Locker</h1>

<p>The locker room is locked.</p>

<form id="login">
  <input
    autocomplete="off"
    spellcheck="false"
    type="text"
    id="password"
    placeholder="Password" />
  <button type="submit">Unlock the door</button>
</form>

<script type="module">
  const form = document.getElementById("login");
  const password = document.getElementById("password");

  form.addEventListener("submit", async (event) => {
    event.preventDefault();

    const response = await fetch(
      "https://todepond-labunlocklockerroom.web.val.run",
      {
        method: "POST",
        headers: {
          "Content-Type": "application/json",
        },
        body: JSON.stringify({ password: password.value }),
      }
    );

    const data = await response.json();
    alert(data.message);
  });
</script>
